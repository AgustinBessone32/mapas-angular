{"version":3,"sources":["./src/app/mapas/mapas-routing.module.ts","./src/app/mapas/mapas.module.ts","./src/app/mapas/pages/zoom-range/zoom-range.component.ts","./src/app/mapas/pages/zoom-range/zoom-range.component.html","./src/app/mapas/pages/full-screen/full-screen.component.ts","./src/app/mapas/pages/full-screen/full-screen.component.html","./src/app/mapas/pages/marcadores/marcadores.component.ts","./src/app/mapas/pages/marcadores/marcadores.component.html"],"names":[],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuD;AACyB;AACF;AACD;;;AAE7E,MAAM,MAAM,GAAW;IAErB;QACE,IAAI,EAAE,EAAE;QACR,QAAQ,EAAE;YACR,EAAE,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,4FAAmB,EAAE;YACtD,EAAE,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,yFAAkB,EAAE;YACrD,EAAE,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,0FAAmB,EAAE;YACtD,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,YAAY,EAAE;SACzC;KACF;CACF,CAAC;AAMK,MAAM,kBAAkB;;oFAAlB,kBAAkB;iGAAlB,kBAAkB;qGAHpB,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAC9B,4DAAY;mIAEX,kBAAkB,uFAFnB,4DAAY;;;;;;;;;;;;;ACpBxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AAEa;AACoB;AACH;AACC;;AAcvE,MAAM,WAAW;;sEAAX,WAAW;0FAAX,WAAW;8FALb;YACP,4DAAY;YACZ,wEAAkB;SACnB;mIAEU,WAAW,mBATpB,4FAAmB;QACnB,yFAAkB;QAClB,0FAAmB,aAGnB,4DAAY;QACZ,wEAAkB;;;;;;;;;;;;;AChBtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuC;;;;AAOhC,MAAM,kBAAkB;IAO7B;QAHA,cAAS,GAAW,EAAE;QACtB,WAAM,GAAqB,CAAC,GAAG,EAAE,GAAG,CAAC;IAErB,CAAC;IAEjB,WAAW;QACT,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IAClC,CAAC;IAED,eAAe;QACb,IAAI,CAAC,IAAI,GAAG,IAAI,6CAAY,CAAC;YAC3B,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa;YACrC,KAAK,EAAE,oCAAoC;YAC3C,MAAM,EAAE,CAAC,CAAC,iBAAiB,EAAE,CAAC,kBAAkB,CAAC;YACjD,IAAI,EAAE,IAAI,CAAC,SAAS;SACrB,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,GAAG,EAAE;YACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;QACtC,CAAC,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,GAAG,EAAE;YAC3B,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,EAAE,EAAE;gBAC5B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;aACrB;QACH,CAAC,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,EAAE;YAC7B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACpC,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM;YAC3B,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,MAAM,CAAC,SAAS,EAAE;YACvC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC;QAC1B,CAAC,CAAC;IACJ,CAAC;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;IAErB,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;IAEpB,CAAC;IAED,UAAU,CAAC,KAAa;QACtB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;;oFArDU,kBAAkB;kGAAlB,kBAAkB;;;;;;;QCR/B,uEAAwC;QAExC,yEAAiB;QACb,yEAAoB;QAChB,2EAA0B;QACtB,uDAEJ;;;;QAAA,4DAAQ;QACR,8EAC0C;QAAtC,sRAAS,yBAA2B,IAAC;QADzC,4DAC0C;QAC9C,4DAAM;QAEN,0EAAoB;QAChB,6EAAoD;QAApB,2IAAS,aAAS,IAAC;QAAC,6DAAC;QAAA,4DAAS;QAC9D,6EAA6D;QAAnB,2IAAS,YAAQ,IAAC;QAAC,6DAAC;QAAA,4DAAS;QAC3E,4DAAM;QACV,4DAAM;;QAXM,0DAEJ;QAFI,oXAEJ;QACuC,0DAAmB;QAAnB,gFAAmB;;;;;;;;;;;;;;ACPlE;AAAA;AAAA;AAAA;AAAA;AAAuC;;AAQhC,MAAM,mBAAmB;IAE9B,gBAAgB,CAAC;IAEjB,QAAQ;QAEN,IAAI,GAAG,GAAG,IAAI,6CAAY,CAAC;YACzB,SAAS,EAAE,MAAM;YACjB,KAAK,EAAE,oCAAoC;YAC3C,MAAM,EAAE,CAAC,CAAC,iBAAiB,EAAE,CAAC,kBAAkB,CAAC;YACjD,IAAI,EAAE,EAAE;SACT,CAAC;IACJ,CAAC;;sFAZU,mBAAmB;mGAAnB,mBAAmB;QCThC,oEAEM;;;;;;;;;;;;;;ACDN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsC;;;;;;;ICGlC,wEACwG;IAD5E,0WAAwC;IAEhE,uDACJ;IAAA,4DAAK;;;;IAFkD,6JAAgD;IACnG,0DACJ;IADI,6FACJ;;ADOG,MAAM,mBAAmB;IAQ9B;QAJA,cAAS,GAAW,EAAE;QACtB,WAAM,GAAqB,CAAC,CAAC,iBAAiB,EAAE,CAAC,kBAAkB,CAAC;QACpE,eAAU,GAAuB,EAAE;IAEnB,CAAC;IAEjB,eAAe;QACb,IAAI,CAAC,IAAI,GAAG,IAAI,6CAAY,CAAC;YAC3B,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa;YACrC,KAAK,EAAE,oCAAoC;YAC3C,MAAM,EAAE,CAAC,CAAC,iBAAiB,EAAE,CAAC,kBAAkB,CAAC;YACjD,IAAI,EAAE,IAAI,CAAC,SAAS;SACrB,CAAC;QAEF,sCAAsC;QACtC,4BAA4B;QAC5B,sBAAsB;QAEtB,IAAI,CAAC,gBAAgB,EAAE;IACzB,CAAC;IAED,UAAU,CAAC,MAAuB;QAChC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YACd,MAAM,EAAE,MAAM,CAAC,SAAS,EAAE;SAC3B,CAAC;IAEJ,CAAC;IAGD,eAAe;QACb,MAAM,KAAK,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;QAClF,MAAM,aAAa,GAAG,IAAI,gDAAe,CAAC;YACxC,SAAS,EAAE,IAAI;YACf,KAAK,EAAE,KAAK;SACb,CAAC;aACC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC;aACtB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;QAEnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACnB,KAAK,EAAE,KAAK;YACZ,QAAQ,EAAE,aAAa;SACxB,CAAC;QAEF,IAAI,CAAC,iBAAiB,EAAE;IAC1B,CAAC;IAGD,iBAAiB;QACf,MAAM,QAAQ,GAAuB,EAAE;QAEvC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YAC1B,MAAM,KAAK,GAAG,CAAC,CAAC,KAAK;YACrB,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,QAAS,CAAC,SAAS,EAAE;YAE5C,QAAQ,CAAC,IAAI,CAAC;gBACZ,KAAK,EAAE,KAAK;gBACZ,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;aAEnB,CAAC;QACJ,CAAC,CAAC;QAEF,YAAY,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAC9D,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC;YAAE,OAAM;QAE/C,MAAM,SAAS,GAAuB,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,YAAY,CAAE,CAAC;QAErF,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YAEpB,MAAM,SAAS,GAAG,IAAI,gDAAe,CAAC;gBACpC,KAAK,EAAE,CAAC,CAAC,KAAK;gBACd,SAAS,EAAE,IAAI;aAChB,CAAC;iBACC,SAAS,CAAC,CAAC,CAAC,MAAO,CAAC;iBACpB,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;YAGnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;gBACnB,QAAQ,EAAE,SAAS;gBACnB,KAAK,EAAE,CAAC,CAAC,KAAK;aACf,CAAC;YAEF,IAAI,CAAC,iBAAiB,EAAE;YAExB,SAAS,CAAC,EAAE,CAAC,SAAS,EAAE,GAAG,EAAE;gBAC3B,IAAI,CAAC,iBAAiB,EAAE;YAC1B,CAAC,CAAC;QAEJ,CAAC,CAAC;IACJ,CAAC;IAED,cAAc,CAAC,CAAS;;QACtB,UAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,0CAAE,MAAM,GAAE;QACrC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;QAE5B,IAAI,CAAC,iBAAiB,EAAE;IAC1B,CAAC;;sFAtGU,mBAAmB;mGAAnB,mBAAmB;;;;;;QCdhC,wEAAuB;QACnB,wEAA6E;QAA5B,uIAAS,qBAAiB,IAAC;QACxE,sEACJ;QAAA,4DAAK;QACL,6GAGK;QACT,4DAAK;QAEL,uEAAwC;;QALX,0DAAe;QAAf,mFAAe","file":"mapas-mapas-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FullScreenComponent } from './pages/full-screen/full-screen.component';\nimport { MarcadoresComponent } from './pages/marcadores/marcadores.component';\nimport { ZoomRangeComponent } from './pages/zoom-range/zoom-range.component';\n\nconst routes: Routes = [\n\n  {\n    path: '',\n    children: [\n      { path: 'fullscreen', component: FullScreenComponent },\n      { path: 'zoom-range', component: ZoomRangeComponent },\n      { path: 'marcadores', component: MarcadoresComponent },\n      { path: '**', redirectTo: 'fullscreen' }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MapasRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MapasRoutingModule } from './mapas-routing.module';\nimport { FullScreenComponent } from './pages/full-screen/full-screen.component';\nimport { ZoomRangeComponent } from './pages/zoom-range/zoom-range.component';\nimport { MarcadoresComponent } from './pages/marcadores/marcadores.component';\n\n\n@NgModule({\n  declarations: [\n    FullScreenComponent,\n    ZoomRangeComponent,\n    MarcadoresComponent\n  ],\n  imports: [\n    CommonModule,\n    MapasRoutingModule\n  ]\n})\nexport class MapasModule { }\n","import { AfterViewInit, Component, ElementRef, OnDestroy, ViewChild } from '@angular/core';\nimport * as  mapboxgl from 'mapbox-gl';\n\n@Component({\n  selector: 'app-zoom-range',\n  templateUrl: './zoom-range.component.html',\n  styleUrls: ['./zoom-range.component.css']\n})\nexport class ZoomRangeComponent implements AfterViewInit, OnDestroy {\n\n  @ViewChild('mapa') divMapa!: ElementRef\n  mapa!: mapboxgl.Map\n  zoomLevel: number = 10\n  center: [number, number] = [123, 456]\n\n  constructor() { }\n\n  ngOnDestroy(): void {\n    this.mapa.off('zoom', () => { })\n    this.mapa.off('zoomend', () => { })\n    this.mapa.off('move', () => { })\n  }\n\n  ngAfterViewInit(): void {\n    this.mapa = new mapboxgl.Map({\n      container: this.divMapa.nativeElement,\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [-64.23822810208624, -31.405245724304315],\n      zoom: this.zoomLevel\n    })\n\n    this.mapa.on('zoom', () => {\n      this.zoomLevel = this.mapa.getZoom()\n    })\n\n    this.mapa.on('zoomend', () => {\n      if (this.mapa.getZoom() > 20) {\n        this.mapa.zoomTo(20)\n      }\n    })\n\n    this.mapa.on('move', (event) => {\n      this.zoomLevel = this.mapa.getZoom()\n      const target = event.target\n      const { lng, lat } = target.getCenter()\n      this.center = [lng, lat]\n    })\n  }\n\n  zoomOut() {\n    this.mapa.zoomOut()\n\n  }\n\n  zoomIn() {\n    this.mapa.zoomIn()\n\n  }\n\n  zoomCambio(value: string) {\n    this.mapa.zoomTo(Number(value))\n  }\n}\n","<div #mapa class=\"mapa-container\"></div>\n\n<div class=\"row\">\n    <div class=\"col-12\">\n        <label class=\"form-label\">\n            Zoom: {{zoomLevel | number:'2.0-2'}}\n            - Lng,Lat: [{{ center[0] | number:'2.4-4' }}, {{ center[1] | number:'2.4-4' }}]\n        </label>\n        <input type=\"range\" class=\"form-range\" [value]=\"zoomLevel\" min=\"0\" max=\"20\" #zoomInput\n            (input)=\"zoomCambio(zoomInput.value)\">\n    </div>\n\n    <div class=\"col-12\">\n        <button class=\"btn btn-primary\" (click)=\"zoomOut()\">-</button>\n        <button class=\"btn btn-primary float-end\" (click)=\"zoomIn()\">+</button>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport * as  mapboxgl from 'mapbox-gl';\n\n\n@Component({\n  selector: 'app-full-screen',\n  templateUrl: './full-screen.component.html',\n  styleUrls: ['./full-screen.component.css']\n})\nexport class FullScreenComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n\n    var map = new mapboxgl.Map({\n      container: 'mapa',\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [-64.23822810208624, -31.405245724304315],\n      zoom: 18\n    })\n  }\n\n}\n","<div id=\"mapa\">\n\n</div>","import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport * as mapboxgl from 'mapbox-gl';\n\ninterface MarcadorConColor {\n  color: string,\n  marcador?: mapboxgl.Marker\n  centro?: [number, number]\n}\n\n@Component({\n  selector: 'app-marcadores',\n  templateUrl: './marcadores.component.html',\n  styleUrls: ['./marcadores.component.css']\n})\nexport class MarcadoresComponent implements AfterViewInit {\n\n  @ViewChild('mapa') divMapa!: ElementRef\n  mapa!: mapboxgl.Map\n  zoomLevel: number = 15\n  center: [number, number] = [-64.23822810208624, -31.405245724304315]\n  marcadores: MarcadorConColor[] = []\n\n  constructor() { }\n\n  ngAfterViewInit(): void {\n    this.mapa = new mapboxgl.Map({\n      container: this.divMapa.nativeElement,\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [-64.23822810208624, -31.405245724304315],\n      zoom: this.zoomLevel\n    })\n\n    // const maker = new mapboxgl.Marker()\n    //   .setLngLat(this.center)\n    //   .addTo(this.mapa)\n\n    this.leerMArcadoresLS()\n  }\n\n  irMarcador(marker: mapboxgl.Marker) {\n    this.mapa.flyTo({\n      center: marker.getLngLat()\n    })\n\n  }\n\n\n  agregarMarcador() {\n    const color = \"#xxxxxx\".replace(/x/g, y => (Math.random() * 16 | 0).toString(16));\n    const nuevoMarcador = new mapboxgl.Marker({\n      draggable: true,\n      color: color\n    })\n      .setLngLat(this.center)\n      .addTo(this.mapa)\n\n    this.marcadores.push({\n      color: color,\n      marcador: nuevoMarcador\n    })\n\n    this.guardarMarcadorLS()\n  }\n\n\n  guardarMarcadorLS() {\n    const lngLatAr: MarcadorConColor[] = []\n\n    this.marcadores.forEach(m => {\n      const color = m.color\n      const { lng, lat } = m.marcador!.getLngLat()\n\n      lngLatAr.push({\n        color: color,\n        centro: [lng, lat]\n\n      })\n    })\n\n    localStorage.setItem('marcadores', JSON.stringify(lngLatAr))\n  }\n\n  leerMArcadoresLS() {\n    if (!localStorage.getItem('marcadores')) return\n\n    const lngLatArr: MarcadorConColor[] = JSON.parse(localStorage.getItem('marcadores')!)\n\n    lngLatArr.forEach(m => {\n\n      const newMarker = new mapboxgl.Marker({\n        color: m.color,\n        draggable: true\n      })\n        .setLngLat(m.centro!)\n        .addTo(this.mapa)\n\n\n      this.marcadores.push({\n        marcador: newMarker,\n        color: m.color\n      })\n\n      this.guardarMarcadorLS()\n\n      newMarker.on('dragend', () => {\n        this.guardarMarcadorLS()\n      })\n\n    })\n  }\n\n  borrarMarcador(i: number) {\n    this.marcadores[i].marcador?.remove()\n    this.marcadores.splice(i, 1)\n\n    this.guardarMarcadorLS()\n  }\n}\n","<ul class=\"list-group\">\r\n    <li class=\"list-group-item list-group-item-info\" (click)=\"agregarMarcador()\">\r\n        + Agregar\r\n    </li>\r\n    <li class=\"list-group-item\" (click)=\"irMarcador(marcador.marcador!)\" (dblclick)=\"borrarMarcador(i)\"\r\n        *ngFor=\"let marcador of marcadores; let i = index\" [ngStyle]=\"{'background-color': marcador.color}\">\r\n        Marcador {{i + 1}}\r\n    </li>\r\n</ul>\r\n\r\n<div #mapa class=\"mapa-container\"></div>"],"sourceRoot":"webpack:///"}